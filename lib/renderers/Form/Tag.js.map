{
    "version": 3,
    "file": "Tag.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Form/Tag.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {OptionsControl, OptionsControlProps, Option} from './Options';\nimport cx from 'classnames';\nimport {Action} from '../../types';\nimport Downshift from 'downshift';\nimport matchSorter from 'match-sorter';\nimport debouce = require('lodash/debounce');\nimport find = require('lodash/find');\nimport {Icon} from '../../components/icons';\nimport {Portal} from 'react-overlays';\nimport {findDOMNode} from 'react-dom';\n\n// declare function matchSorter(items:Array<any>, input:any, options:any): Array<any>;\n\nexport interface TagProps extends OptionsControlProps {\n  placeholder?: string;\n  clearable: boolean;\n  resetValue?: any;\n  optionsTip: string;\n}\n\nexport interface TagState {\n  inputValue: string;\n  isFocused?: boolean;\n}\n\nexport default class TagControl extends React.PureComponent<\n  TagProps,\n  TagState\n> {\n  input: React.RefObject<HTMLInputElement> = React.createRef();\n\n  constructor(props: TagProps) {\n    super(props);\n\n    this.state = {\n      inputValue: '',\n      isFocused: false\n    };\n    this.focus = this.focus.bind(this);\n    this.clearValue = this.clearValue.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.getParent = this.getParent.bind(this);\n  }\n\n  static defaultProps: Partial<TagProps> = {\n    resetValue: '',\n    labelField: 'label',\n    valueField: 'value',\n    placeholder: '',\n    multiple: true,\n    optionsTip: '最近您使用的标签'\n  };\n\n  componentWillReceiveProps(nextProps: TagProps) {\n    const props = this.props;\n\n    if (props.value !== nextProps.value) {\n      this.setState({\n        inputValue: ''\n      });\n    }\n  }\n\n  focus() {\n    if (!this.input.current) {\n      return;\n    }\n\n    this.input.current.focus();\n\n    // 光标放到最后\n    const len = this.input.current.value.length;\n    len && this.input.current.setSelectionRange(len, len);\n  }\n\n  clearValue() {\n    const {onChange, resetValue} = this.props;\n\n    onChange(resetValue);\n    this.setState(\n      {\n        inputValue: resetValue\n      },\n      this.focus\n    );\n  }\n\n  removeItem(index: number) {\n    const {\n      selectedOptions,\n      onChange,\n      joinValues,\n      extractValue,\n      delimiter,\n      valueField\n    } = this.props;\n\n    const newValue = selectedOptions.concat();\n    newValue.splice(index, 1);\n\n    onChange(\n      joinValues\n        ? newValue\n            .map(item => item[valueField || 'value'])\n            .join(delimiter || ',')\n        : extractValue\n        ? newValue.map(item => item[valueField || 'value'])\n        : newValue\n    );\n  }\n\n  addItem(option: Option) {\n    const {\n      selectedOptions,\n      onChange,\n      joinValues,\n      extractValue,\n      delimiter,\n      valueField\n    } = this.props;\n    const newValue = selectedOptions.concat();\n\n    if (find(newValue, item => item.value == option.value)) {\n      return;\n    }\n\n    newValue.push(option);\n\n    onChange(\n      joinValues\n        ? newValue\n            .map(item => item[valueField || 'value'])\n            .join(delimiter || ',')\n        : extractValue\n        ? newValue.map(item => item[valueField || 'value'])\n        : newValue\n    );\n  }\n\n  handleClick() {\n    this.focus();\n  }\n\n  handleFocus(e: any) {\n    this.setState({\n      isFocused: true\n    });\n\n    this.props.onFocus && this.props.onFocus(e);\n  }\n\n  handleBlur(e: any) {\n    const {\n      selectedOptions,\n      onChange,\n      joinValues,\n      extractValue,\n      delimiter,\n      valueField\n    } = this.props;\n\n    const value = this.state.inputValue.trim();\n    this.props.onBlur && this.props.onBlur(e);\n    this.setState(\n      {\n        isFocused: false,\n        inputValue: ''\n      },\n      value\n        ? () => {\n            const newValue = selectedOptions.concat();\n            if (!find(newValue, item => item.value === value)) {\n              const option = {\n                label: value,\n                value: value\n              };\n              newValue.push(option);\n              onChange(\n                joinValues\n                  ? newValue\n                      .map(item => item[valueField || 'value'])\n                      .join(delimiter || ',')\n                  : extractValue\n                  ? newValue.map(item => item[valueField || 'value'])\n                  : newValue\n              );\n            }\n          }\n        : undefined\n    );\n  }\n\n  handleInputChange(evt: React.ChangeEvent<HTMLInputElement>) {\n    let value = evt.currentTarget.value;\n\n    this.setState({\n      inputValue: value\n    });\n  }\n\n  handleKeyDown(evt: React.KeyboardEvent<HTMLInputElement>) {\n    const {\n      selectedOptions,\n      onChange,\n      joinValues,\n      extractValue,\n      delimiter,\n      valueField\n    } = this.props;\n\n    const value = this.state.inputValue.trim();\n\n    if (selectedOptions.length && !value && evt.key == 'Backspace') {\n      const newValue = selectedOptions.concat();\n      newValue.pop();\n\n      onChange(\n        joinValues\n          ? newValue\n              .map(item => item[valueField || 'value'])\n              .join(delimiter || ',')\n          : extractValue\n          ? newValue.map(item => item[valueField || 'value'])\n          : newValue\n      );\n    } else if (value && (evt.key === 'Enter' || evt.key === delimiter)) {\n      evt.preventDefault();\n      const newValue = selectedOptions.concat();\n\n      if (!find(newValue, item => item.value == value)) {\n        newValue.push({\n          label: value,\n          value: value\n        });\n\n        onChange(\n          joinValues\n            ? newValue\n                .map(item => item[valueField || 'value'])\n                .join(delimiter || ',')\n            : extractValue\n            ? newValue.map(item => item[valueField || 'value'])\n            : newValue\n        );\n      }\n\n      this.setState({\n        inputValue: ''\n      });\n    }\n  }\n\n  getParent() {\n    return (findDOMNode(this) as HTMLElement).parentNode;\n  }\n\n  reload() {\n    const reload = this.props.reloadOptions;\n    reload && reload();\n  }\n\n  render() {\n    const {\n      className,\n      classnames: cx,\n      disabled,\n      placeholder,\n      name,\n      options,\n      optionsTip,\n      clearable,\n      value,\n      loading,\n      spinnerClassName,\n      selectedOptions,\n      labelField\n    } = this.props;\n\n    return (\n      <div\n        className={cx(className, `TagControl`, {\n          'is-focused': this.state.isFocused,\n          'is-disabled': disabled\n        })}\n      >\n        <div onClick={this.handleClick} className={cx('TagControl-input')}>\n          <div className={cx('TagControl-valueWrap')}>\n            {placeholder &&\n            !selectedOptions.length &&\n            !this.state.inputValue ? (\n              <div className={cx('TagControl-placeholder')}>{placeholder}</div>\n            ) : null}\n\n            {selectedOptions.map((item, index) => (\n              <div className={cx('TagControl-value')} key={index}>\n                <span\n                  className={cx('TagControl-valueIcon')}\n                  onClick={this.removeItem.bind(this, index)}\n                >\n                  ×\n                </span>\n                <span className={cx('TagControl-valueLabel')}>\n                  {item[labelField || 'label']}\n                </span>\n              </div>\n            ))}\n\n            <input\n              ref={this.input}\n              name={name}\n              value={this.state.inputValue}\n              onChange={this.handleInputChange}\n              onKeyDown={this.handleKeyDown}\n              onFocus={this.handleFocus}\n              onBlur={this.handleBlur}\n            />\n          </div>\n\n          {clearable && !disabled && value ? (\n            <a onClick={this.clearValue} className={cx('TagControl-clear')}>\n              <Icon icon=\"close\" className=\"icon\" />\n            </a>\n          ) : null}\n          {loading ? (\n            <i className={cx(`TagControl-spinner`, spinnerClassName)} />\n          ) : null}\n        </div>\n\n        {options.length ? (\n          <Portal container={this.getParent}>\n            <div className={cx('TagControl-sug')}>\n              {optionsTip ? (\n                <div className={cx('TagControl-sugTip')}>{optionsTip}</div>\n              ) : null}\n              {options.map((item, index) => (\n                <div\n                  className={cx('TagControl-sugItem')}\n                  key={index}\n                  onClick={this.addItem.bind(this, item)}\n                >\n                  {item.label}\n                </div>\n              ))}\n            </div>\n          </Portal>\n        ) : null}\n      </div>\n    );\n  }\n}\n\n@OptionsControl({\n  type: 'tag'\n})\nexport class TagControlRenderer extends TagControl {}\n"
    ]
}